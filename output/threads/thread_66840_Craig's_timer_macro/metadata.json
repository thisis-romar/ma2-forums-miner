{
  "assets": [
    {
      "checksum": "sha256:caf9b90553a23684be8dd12f34aa81836ed7fa49c015335ce07aa50a8a342e1d",
      "download_count": 85,
      "filename": "Timer insert.xml",
      "post_number": 1,
      "size": 3921,
      "url": "https://forum.malighting.com/file-download/4692/"
    }
  ],
  "author": "blueshiftdesign",
  "post_date": null,
  "post_text": "October 14, 2021 at 5:54 AM#1Hi all. I was bored on a show and made a macro that creates and inserts a timer with some user input, which it then drops into the command line. My use scenario for this is:I'm on a show, and I need a timer for a video or somesuch, and I want to see it when it fires, so I know how much time is left until the next cue or event. Creating these timers through the GUI is a little clunky, especially entering the time in the weird format the modal dialog box requires (pressing H, M, and S separately, ugh) and then I need several commands typed into the cue that fires it. So much work! So, I made this macro to make it fast for me.Here is the content of the macro:CodeSetUserVar $Timer_Pool=(Timer pool object number?)Store Timer $Timer_PoolSetUserVar $Timer_Name=(\"Name, no spaces please\")Assign Timer $Timer_Pool /Name=$\";Timer_name\"SetVar $Total_Time=(Minutes?)MSetVar $Seconds=(Seconds?).00SAddVar $Total_Time=$\"Seconds\"Assign Timer $Timer_Name /TimerMode=CountdownAssign Timer $Timer_Name /WhenRestarting=ResetAssign Timer $Timer_Name /AlertType=NoneAssign Timer $Timer_Name /countdowntime=$Total_TimeSetVar $Final_cmd=\";Top Timer \"AddVar $Final_cmd=$\";Timer_Name\"SetVar $select_cmd=\"; Select Timer \"AddVar $select_cmd=$\";Timer_name\"AddVar $Final_cmd=$\";select_cmd\"SetVar $toggle_cmd=\"; Toggle Timer \"AddVar $toggle_cmd=$\"Timer_Name\"AddVar $Final_cmd=$\"toggle_cmd\"SetVar $view_cmd=\"; View Countdown\"AddVar $Final_cmd=$\"view_cmd\"Assign Cue () /CMD=$\"Final_cmd\"SetVar $Total_Time=SetVar $seconds=SetVar $minutes=Display MoreIt makes a timer, assigns the time to it, turns off alerts, and puts the proper commands into the current cue to fire it. The macro expects a view called \"Timer\" which will follow the currently selected timer, and the command will switch to that view when you fire the cue. Hopefully you find it helpful![Edit: Oh, the macro doesn't ask for hours, because most videos on shows don't go that long. But you could easily edit it to include hours. This macro would probably also look a lot nicer in Lua, because assembling strings into commands feels jank AF. But, it works, so here ya go.][Edit 2: It just dawned on me that \"Timer\" is a keyword so I can't call my view that, because then I get into nested quotes, which as far as I know can't be escaped in macros. To get around this, I've attached a new macro, which will call a view called \"Countdown\". Being able to escape quotes would be very handy.][Edit 3: Finally, does anyone why the $%&* grandMA doesn't actually write exported files when it says it does? I tried five times to export the updated version, pulled the USB drive, and lo and behold, the file was not actually overwritten. MAddening.]FilesTimer insert.xml3.92 kB – 85 DownloadsCraig RutherfordBlueshift Design",
  "posts": [
    {
      "author": "blueshiftdesign",
      "post_date": null,
      "post_number": 1,
      "post_text": "October 14, 2021 at 5:54 AM#1Hi all. I was bored on a show and made a macro that creates and inserts a timer with some user input, which it then drops into the command line. My use scenario for this is:I'm on a show, and I need a timer for a video or somesuch, and I want to see it when it fires, so I know how much time is left until the next cue or event. Creating these timers through the GUI is a little clunky, especially entering the time in the weird format the modal dialog box requires (pressing H, M, and S separately, ugh) and then I need several commands typed into the cue that fires it. So much work! So, I made this macro to make it fast for me.Here is the content of the macro:CodeSetUserVar $Timer_Pool=(Timer pool object number?)Store Timer $Timer_PoolSetUserVar $Timer_Name=(\"Name, no spaces please\")Assign Timer $Timer_Pool /Name=$\";Timer_name\"SetVar $Total_Time=(Minutes?)MSetVar $Seconds=(Seconds?).00SAddVar $Total_Time=$\"Seconds\"Assign Timer $Timer_Name /TimerMode=CountdownAssign Timer $Timer_Name /WhenRestarting=ResetAssign Timer $Timer_Name /AlertType=NoneAssign Timer $Timer_Name /countdowntime=$Total_TimeSetVar $Final_cmd=\";Top Timer \"AddVar $Final_cmd=$\";Timer_Name\"SetVar $select_cmd=\"; Select Timer \"AddVar $select_cmd=$\";Timer_name\"AddVar $Final_cmd=$\";select_cmd\"SetVar $toggle_cmd=\"; Toggle Timer \"AddVar $toggle_cmd=$\"Timer_Name\"AddVar $Final_cmd=$\"toggle_cmd\"SetVar $view_cmd=\"; View Countdown\"AddVar $Final_cmd=$\"view_cmd\"Assign Cue () /CMD=$\"Final_cmd\"SetVar $Total_Time=SetVar $seconds=SetVar $minutes=Display MoreIt makes a timer, assigns the time to it, turns off alerts, and puts the proper commands into the current cue to fire it. The macro expects a view called \"Timer\" which will follow the currently selected timer, and the command will switch to that view when you fire the cue. Hopefully you find it helpful![Edit: Oh, the macro doesn't ask for hours, because most videos on shows don't go that long. But you could easily edit it to include hours. This macro would probably also look a lot nicer in Lua, because assembling strings into commands feels jank AF. But, it works, so here ya go.][Edit 2: It just dawned on me that \"Timer\" is a keyword so I can't call my view that, because then I get into nested quotes, which as far as I know can't be escaped in macros. To get around this, I've attached a new macro, which will call a view called \"Countdown\". Being able to escape quotes would be very handy.][Edit 3: Finally, does anyone why the $%&* grandMA doesn't actually write exported files when it says it does? I tried five times to export the updated version, pulled the USB drive, and lo and behold, the file was not actually overwritten. MAddening.]FilesTimer insert.xml3.92 kB – 85 DownloadsCraig RutherfordBlueshift Design"
    }
  ],
  "replies": 0,
  "thread_id": "66840",
  "title": "Craig's timer macro",
  "url": "https://forum.malighting.com/forum/thread/66840-craig-s-timer-macro/",
  "views": 0
}